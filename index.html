<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kommentar-System mit Firebase</title>
</head>
<body>

    <h1>Kommentar-System</h1>

    <!-- Anzeige der Kommentare -->
    <div id="comments-container">
        <!-- Kommentare werden hier angezeigt -->
    </div>

    <!-- Kommentar Formular -->
    <div id="comment-form">
        <input type="text" id="name" placeholder="Dein Name" />
        <textarea id="comment-text" placeholder="Schreib einen Kommentar..."></textarea>
        <button id="submit-comment">Kommentar absenden</button>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js"></script>
    <script>
        // Firebase-Konfiguration (ersetze mit deinen eigenen Firebase-Daten)
        const firebaseConfig = {
            apiKey: "AIzaSyCtfBgOnp5YZ2xtPzXQ5TqDwAinUIBE1hc",
  authDomain: "test-9a798.firebaseapp.com",
  databaseURL: "https://test-9a798-default-rtdb.firebaseio.com",
  projectId: "test-9a798",
  storageBucket: "test-9a798.firebasestorage.app",
  messagingSenderId: "134538517366",
  appId: "1:134538517366:web:f575ecaa372b28bf767857"
        };

        // Firebase initialisieren
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database(app);

        // Kommentar absenden
        document.getElementById("submit-comment").addEventListener("click", () => {
            const name = document.getElementById("name").value;
            const commentText = document.getElementById("comment-text").value;

            if (name.trim() !== "" && commentText.trim() !== "") {
                const newCommentRef = database.ref('comments').push(); // Erstelle einen neuen Kommentar
                newCommentRef.set({
                    name: name,
                    text: commentText,
                    timestamp: firebase.database.ServerValue.TIMESTAMP
                });
                document.getElementById("name").value = ""; // Name-Feld leeren
                document.getElementById("comment-text").value = ""; // Kommentar-Feld leeren
                loadComments(); // Kommentare neu laden
            } else {
                alert("Bitte gib deinen Namen und Kommentar ein!");
            }
        });

        // Kommentare laden
        function loadComments() {
            const commentsContainer = document.getElementById("comments-container");
            commentsContainer.innerHTML = ""; // Container leeren

            const commentsRef = database.ref('comments');
            commentsRef.once('value', (snapshot) => {
                snapshot.forEach((childSnapshot) => {
                    const commentData = childSnapshot.val();
                    const commentElement = document.createElement("div");
                    commentElement.innerHTML = `
                        <strong>${commentData.name}</strong>: ${commentData.text}
                    `;
                    commentsContainer.appendChild(commentElement);
                });
            });
        }

        // Kommentare beim Laden der Seite abrufen
        loadComments();
    </script>

</body>
</html>
